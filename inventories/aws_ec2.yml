# inventories/aws_ec2.yml
---
plugin: aws_ec2
regions:
  - us-east-1
  - us-west-2
filters:
  instance-state-name:
    - running
    - stopped
hostnames:
  - private-ip-address
  - ip-address
keyed_groups:
  - key: tags
    prefix: tag
  - key: placement.region
    prefix: aws_region
  - key: instance_type
    prefix: type
compose:
  ansible_host: private_ip_address
  ansible_user: ec2-user
  cloud_provider: aws
  # Reference credential variables
aws_access_key: "{{ aws_access_key }}"
aws_secret_key: "{{ aws_secret_key }}"
aws_region: "{{ aws_region | default('us-east-1') }}"
